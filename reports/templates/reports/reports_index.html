{% extends 'base.html' %}
{% block title %}WorkSafeCenter - –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞{% endblock %}
{% block content %}
<section style="background: transparent; box-shadow: none; padding: 0;">
  <div class="section-header" style="border-bottom: none; margin-bottom: 20px;">
    <h2 style="margin: 0;">üìä –¶–µ–Ω—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</h2>
    <div style="display: flex; gap: 10px;">
      <a href="{% url 'index' %}" class="button" style="background-color: #6c757d;">
        ‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –ø–∞–Ω–µ–ª—å
      </a>
    </div>
  </div>
</section>

<section>
  <h3 style="margin-top: 0; color: var(--primary-color); font-size: var(--font-size-xl); font-weight: var(--font-weight-semibold);">
    –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
  </h3>
  <p style="color: #666; margin-bottom: 20px; font-size: var(--font-size-sm);">
    –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π —Ç–∏–ø –æ—Ç—á–µ—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–æ–¥–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
  </p>

  <div class="reports-grid">
    <!-- –û—Ç—á–µ—Ç –ø–æ –æ–±—É—á–µ–Ω–∏—é -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #3498db; color: white;">
        üìö
      </div>
      <div class="report-content">
        <h3>–û–±—É—á–µ–Ω–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂–∏</h3>
        <p class="report-description">
          –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Å—Ä–æ—á–µ–∫, –±–ª–∏–∂–∞–π—à–∏—Ö —Å—Ä–æ–∫–æ–≤ –∏ –ø–æ–∫—Ä—ã—Ç–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ–±—É—á–µ–Ω–∏–µ–º
        </p>
        <div class="report-meta">
          <span class="report-tag">Excel</span>
          <span class="report-tag">PDF</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="{% url 'reports:overdue_trainings_report' %}" class="button report-btn">
          –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
        </a>
      </div>
    </div>

    <!-- –û—Ç—á–µ—Ç –ø–æ –º–µ–¥–æ—Å–º–æ—Ç—Ä–∞–º -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #e74c3c; color: white;">
        ü©∫
      </div>
      <div class="report-content">
        <h3>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –æ—Å–º–æ—Ç—Ä—ã</h3>
        <p class="report-description">
          –°–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–¥–Ω–æ—Å—Ç–∏, —Å–ø–∏—Å–æ–∫ –Ω–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–≤–∞—Ä—Ç–∞–ª–µ
        </p>
        <div class="report-meta">
          <span class="report-tag">Excel</span>
          <span class="report-tag warning">–°—Ä–æ—á–Ω–æ</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="{% url 'reports:overdue_medical_checks_report' %}" class="button report-btn" style="background-color: #e74c3c;">
          –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
        </a>
      </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #f39c12; color: white;">
        üìà
      </div>
      <div class="report-content">
        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º</h3>
        <p class="report-description">
          –ß–∞—Å—Ç–æ—Ç–∞, —Ç—è–∂–µ—Å—Ç—å, –∞–Ω–∞–ª–∏–∑ –º–µ—Å—Ç –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥
        </p>
        <div class="report-meta">
          <span class="report-tag">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
          <span class="report-tag">–ì—Ä–∞—Ñ–∏–∫–∏</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="{% url 'reports:incident_statistics_report' %}" class="button report-btn" style="background-color: #f39c12;">
          –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
        </a>
      </div>
    </div>

    <!-- –°–≤–æ–¥–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #27ae60; color: white;">
        üë•
      </div>
      <div class="report-content">
        <h3>–°–≤–æ–¥–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h3>
        <p class="report-description">
          –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏
        </p>
        <div class="report-meta">
          <span class="report-tag">Excel</span>
          <span class="report-tag">PDF</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="#" class="button report-btn" style="background-color: #27ae60;">
          –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
        </a>
      </div>
    </div>

    <!-- –ü–ª–∞–Ω-–≥—Ä–∞—Ñ–∏–∫ –æ–±—É—á–µ–Ω–∏—è -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #9b59b6; color: white;">
        üìÖ
      </div>
      <div class="report-content">
        <h3>–ü–ª–∞–Ω-–≥—Ä–∞—Ñ–∏–∫ –æ–±—É—á–µ–Ω–∏—è</h3>
        <p class="report-description">
          –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
        </p>
        <div class="report-meta">
          <span class="report-tag">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
          <span class="report-tag">Excel</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="{% url 'reports:training_plan_report' %}" class="button report-btn" style="background-color: #9b59b6;">
          –û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞–Ω
        </a>
      </div>
    </div>

    <!-- –û—Ç—á–µ—Ç –ø–æ –°–û–£–¢ -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #16a085; color: white;">
        üìã
      </div>
      <div class="report-content">
        <h3>–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —É—Å–ª–æ–≤–∏–π —Ç—Ä—É–¥–∞</h3>
        <p class="report-description">
          –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –°–û–£–¢ –ø–æ —Ä–∞–±–æ—á–∏–º –º–µ—Å—Ç–∞–º, —Å—Ä–æ–∫–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –æ—Ü–µ–Ω–æ–∫
        </p>
        <div class="report-meta">
          <span class="report-tag">–°–û–£–¢</span>
          <span class="report-tag warning">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="#" class="button report-btn" style="background-color: #16a085;">
          –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
        </a>
      </div>
    </div>

    <!-- –û—Ç—á–µ—Ç –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #2980b9; color: white;">
        üìÑ
      </div>
      <div class="report-content">
        <h3>–†–µ–µ—Å—Ç—Ä –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h3>
        <p class="report-description">
          –°–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Å—Ä–æ–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –ª–∏—Ü–∞
        </p>
        <div class="report-meta">
          <span class="report-tag">–î–æ–∫—É–º–µ–Ω—Ç—ã</span>
          <span class="report-tag">Excel</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="#" class="button report-btn" style="background-color: #2980b9;">
          –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
        </a>
      </div>
    </div>

    <!-- –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ä–∏—Å–∫–∞–º -->
    <div class="report-card">
      <div class="report-icon" style="background-color: #d35400; color: white;">
        ‚ö†Ô∏è
      </div>
      <div class="report-content">
        <h3>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏</h3>
        <p class="report-description">
          –ê–Ω–∞–ª–∏–∑ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤, –º–µ—Ä—ã –ø–æ —Å–Ω–∏–∂–µ–Ω–∏—é, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
        </p>
        <div class="report-meta">
          <span class="report-tag">–†–∏—Å–∫–∏</span>
          <span class="report-tag">–ê–Ω–∞–ª–∏–∑</span>
        </div>
      </div>
      <div class="report-actions">
        <a href="#" class="button report-btn" style="background-color: #d35400;">
          –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
        </a>
      </div>
    </div>
  </div>
</section>

<section style="margin-top: 30px;">
  <div class="section-header">
    <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h3>
  </div>

  <div class="summary-grid">
    <div class="summary-card summary-primary">
      <h4>–í—Å–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h4>
      <p class="value">{{ total_employees_count|default:"-" }}</p>
      <p class="summary-note">–ê–∫—Ç–∏–≤–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ</p>
    </div>

    <div class="summary-card summary-accent">
      <h4>–ü—Ä–æ–≥—Ä–∞–º–º –æ–±—É—á–µ–Ω–∏—è</h4>
      <p class="value">{{ total_programs_count|default:"-" }}</p>
      <p class="summary-note">–í —Ä–µ–µ—Å—Ç—Ä–µ</p>
    </div>

    <div class="summary-card summary-warning">
      <h4>–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π</h4>
      <p class="value">{{ overdue_count|default:"-" }}</p>
      <p class="summary-note">–¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è</p>
    </div>

    <div class="summary-card summary-danger">
      <h4>–ò–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–º –≥–æ–¥—É</h4>
      <p class="value">{{ incidents_this_year|default:"-" }}</p>
      <p class="summary-note">–ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</p>
    </div>
  </div>
</section>

<style>
  .reports-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .report-card {
    background: white;
    border-radius: var(--radius-md);
    padding: 25px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .report-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-lg);
    border-color: var(--accent-300);
  }

  .report-icon {
    width: 60px;
    height: 60px;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    margin-bottom: 15px;
    flex-shrink: 0;
  }

  .report-content {
    flex: 1;
    margin-bottom: 15px;
  }

  .report-content h3 {
    margin: 0 0 10px 0;
    font-size: var(--font-size-lg);
    color: var(--primary-color);
    font-weight: var(--font-weight-semibold);
  }

  .report-description {
    margin: 0 0 15px 0;
    color: var(--gray-600);
    font-size: var(--font-size-sm);
    line-height: 1.5;
  }

  .report-meta {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .report-tag {
    display: inline-block;
    padding: 4px 10px;
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: var(--font-weight-medium);
    background-color: var(--gray-100);
    color: var(--gray-700);
  }

  .report-tag.warning {
    background-color: var(--warning-100);
    color: var(--warning-700);
  }

  .report-actions {
    margin-top: auto;
    padding-top: 15px;
    border-top: 1px solid var(--border-color);
  }

  .report-btn {
    width: 100%;
    padding: 10px 15px;
    font-weight: var(--font-weight-medium);
    display: block;
    text-align: center;
  }

  .summary-note {
    margin: 5px 0 0 0;
    font-size: var(--font-size-sm);
    color: var(--gray-600);
    font-weight: var(--font-weight-normal);
  }
</style>
{% endblock %}